(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[167],{1885:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>p});var r=t(5155),o=t(4581),s=t(2302),n=t(1116),i=t(3577),c=t(8534),l=t(5695),d=t(2115),h=t(6874),u=t.n(h);let p=function(){let e=(0,l.useSearchParams)().get("id"),a=(0,l.useRouter)(),[t,h]=(0,d.useState)({}),[p,g]=(0,d.useState)(!1),y=(e,a)=>{h({...t,[e]:a})},x=async()=>{let r={...t};e?(await fetch("http://localhost:5500/api/v1/category/"+e,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).ok?a.push("/dashboard/category?showSuccess=true&action=update&category="+t.category_name):g(!0):(await fetch("http://localhost:5500/api/v1/category",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).ok?a.push("/dashboard/category?showSuccess=true&action=create&category="+t.category_name):g(!0)},f=async e=>{let a=await fetch("http://localhost:5500/api/v1/category/"+e);a.ok&&h(await a.json())};return(0,d.useEffect)(()=>{console.log(e),e&&f(e)},[]),(0,r.jsxs)(o.default,{sx:{padding:5,flexDirection:"column",backgroundColor:"white",borderRadius:"10px"},children:[(0,r.jsx)(s.A,{severity:"error",hidden:!p,children:"Failed to create Category."}),(0,r.jsx)("br",{}),(0,r.jsx)(n.default,{variant:"body1",fontWeight:"bold",children:"Add Category"}),(0,r.jsx)("div",{className:"pt-[20px]",children:(0,r.jsx)(i.default,{InputLabelProps:{shrink:!!t.category_name},value:t.category_name,onChange:e=>{y("category_name",e.target.value)},variant:"outlined",label:"Name",sx:{width:{xs:"100%",lg:"50%"}}})}),(0,r.jsx)("div",{className:"pt-[20px]",children:(0,r.jsx)(i.default,{InputLabelProps:{shrink:!!t.category_description},value:t.category_description,onChange:e=>{y("category_description",e.target.value)},variant:"outlined",label:"Description",sx:{width:{xs:"100%",lg:"50%"}}})}),(0,r.jsxs)("div",{className:"flex justify-end pt-[20px] gap-4",children:[(0,r.jsx)(u(),{href:"/dashboard/category",children:(0,r.jsx)(c.default,{variant:"outlined",color:"warning",children:"Cancel"})}),(0,r.jsx)(c.default,{variant:"contained",color:"primary",onClick:()=>x(),children:e?"Update":"Create"})]})]})}},4950:(e,a,t)=>{Promise.resolve().then(t.bind(t,1885))}},e=>{var a=a=>e(e.s=a);e.O(0,[660,448,266,0,474,874,577,441,684,358],()=>a(4950)),_N_E=e.O()}]);