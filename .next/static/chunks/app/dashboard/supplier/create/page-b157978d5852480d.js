(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[71],{4797:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>c});var t=s(5155),l=s(4581),r=s(2302),i=s(1116),n=s(3577),p=s(8534),d=s(5695),o=s(2115),u=s(6874),h=s.n(u);let c=function(){let e=(0,d.useSearchParams)().get("id"),a=(0,d.useRouter)(),[s,u]=(0,o.useState)({}),[c,x]=(0,o.useState)(!1),v=(e,a)=>{u({...s,[e]:a})},f=async()=>{let t={...s};e?(await fetch("http://localhost:5500/api/v1/supplier/"+e,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok?a.push("/dashboard/supplier?showSuccess=true&action=update&supplier="+s.supplier_name):x(!0):(await fetch("http://localhost:5500/api/v1/supplier",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok?a.push("/dashboard/supplier?showSuccess=true&action=create&supplier="+s.supplier_name):x(!0)},b=async e=>{let a=await fetch("http://localhost:5500/api/v1/supplier/"+e);a.ok&&u(await a.json())};return(0,o.useEffect)(()=>{console.log(e),e&&b(e)},[]),(0,t.jsxs)(l.default,{sx:{padding:5,flexDirection:"column",backgroundColor:"white",borderRadius:"10px"},children:[(0,t.jsx)(r.A,{severity:"error",hidden:!c,children:"Failed to create supplier."}),(0,t.jsx)("br",{}),(0,t.jsx)(i.default,{variant:"body1",fontWeight:"bold",children:"Add Supplier"}),(0,t.jsx)("div",{className:"pt-[20px]",children:(0,t.jsx)(n.default,{InputLabelProps:{shrink:!!s.supplier_name},value:s.supplier_name,onChange:e=>{v("supplier_name",e.target.value)},variant:"outlined",label:"Name",sx:{width:{xs:"100%",lg:"50%"}}})}),(0,t.jsx)("div",{className:"pt-[20px]",children:(0,t.jsx)(n.default,{InputLabelProps:{shrink:!!s.supplier_address},value:s.supplier_address,onChange:e=>{v("supplier_address",e.target.value)},variant:"outlined",label:"Address",sx:{width:{xs:"100%",lg:"50%"}}})}),(0,t.jsx)("div",{className:"pt-[20px]",children:(0,t.jsx)(n.default,{InputLabelProps:{shrink:!!s.supplier_phone},value:s.supplier_phone,onChange:e=>{v("supplier_phone",e.target.value)},variant:"outlined",label:"Phone",sx:{width:{xs:"100%",lg:"50%"}}})}),(0,t.jsx)("div",{className:"pt-[20px]",children:(0,t.jsx)(n.default,{InputLabelProps:{shrink:!!s.note},value:s.note,onChange:e=>{v("note",e.target.value)},variant:"outlined",label:"Note",sx:{width:{xs:"100%",lg:"50%"}}})}),(0,t.jsxs)("div",{className:"flex justify-end pt-[20px] gap-4",children:[(0,t.jsx)(h(),{href:"/dashboard/supplier",children:(0,t.jsx)(p.default,{variant:"outlined",color:"warning",children:"Cancel"})}),(0,t.jsx)(p.default,{variant:"contained",color:"primary",onClick:()=>f(),children:e?"Update":"Create"})]})]})}},8190:(e,a,s)=>{Promise.resolve().then(s.bind(s,4797))}},e=>{var a=a=>e(e.s=a);e.O(0,[660,448,266,0,474,874,577,441,684,358],()=>a(8190)),_N_E=e.O()}]);