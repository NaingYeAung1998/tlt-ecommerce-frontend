(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[253],{8427:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var n=a(5155),i=a(4581),s=a(2302),l=a(1116),o=a(3577),r=a(8534),d=a(5695),u=a(2115),c=a(6874),h=a.n(c);let p=function(){let e=(0,d.useSearchParams)().get("id"),t=(0,d.useRouter)(),[a,c]=(0,u.useState)({}),[p,x]=(0,u.useState)(!1),f=(e,t)=>{c({...a,[e]:t})},b=async()=>{let n={...a};e?(await fetch("http://localhost:5500/api/v1/unit/"+e,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).ok?t.push("/dashboard/unit?showSuccess=true&action=update&unit="+a.unit_name):x(!0):(await fetch("http://localhost:5500/api/v1/unit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).ok?t.push("/dashboard/unit?showSuccess=true&action=create&unit="+a.unit_name):x(!0)},m=async e=>{let t=await fetch("http://localhost:5500/api/v1/unit/"+e);t.ok&&c(await t.json())};return(0,u.useEffect)(()=>{console.log(e),e&&m(e)},[]),(0,n.jsxs)(i.default,{sx:{padding:5,flexDirection:"column",backgroundColor:"white",borderRadius:"10px"},children:[(0,n.jsx)(s.A,{severity:"error",hidden:!p,children:"Failed to create Unit."}),(0,n.jsx)("br",{}),(0,n.jsx)(l.default,{variant:"body1",fontWeight:"bold",children:"Add Unit"}),(0,n.jsx)("div",{className:"pt-[20px]",children:(0,n.jsx)(o.default,{InputLabelProps:{shrink:!!a.unit_name},value:a.unit_name,onChange:e=>{f("unit_name",e.target.value)},variant:"outlined",label:"Name",sx:{width:{xs:"100%",lg:"50%"}}})}),(0,n.jsx)("div",{className:"pt-[20px]",children:(0,n.jsx)(o.default,{InputLabelProps:{shrink:!!a.unit_symbol},value:a.unit_symbol,onChange:e=>{f("unit_symbol",e.target.value)},variant:"outlined",label:"Symbol",sx:{width:{xs:"100%",lg:"50%"}}})}),(0,n.jsxs)("div",{className:"flex justify-end pt-[20px] gap-4",children:[(0,n.jsx)(h(),{href:"/dashboard/unit",children:(0,n.jsx)(r.default,{variant:"outlined",color:"warning",children:"Cancel"})}),(0,n.jsx)(r.default,{variant:"contained",color:"primary",onClick:()=>b(),children:e?"Update":"Create"})]})]})}},9908:(e,t,a)=>{Promise.resolve().then(a.bind(a,8427))}},e=>{var t=t=>e(e.s=t);e.O(0,[660,448,266,0,474,874,577,441,684,358],()=>t(9908)),_N_E=e.O()}]);