(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[600],{3524:(e,t,i)=>{Promise.resolve().then(i.bind(i,9266))},8742:(e,t,i)=>{"use strict";i.d(t,{q:()=>n,z:()=>a});let a="MMMM Do YYYY, h:mm:ss a",n=[{label:"Delivered",value:"0"},{label:"Stored",value:"1"}]},9266:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>E});var a=i(5155),n=i(8407),l=i(7976),c=i(9776),d=i(4263),s=i(4296),r=i(6033),o=i(8744),h=i(404),u=i(2302),x=i(4581),g=i(8534),f=i(5999),p=i(1116),j=i(7223),m=i(3989),b=i(3127),k=i(1573);let A=(0,i(7515).A)((0,a.jsx)("path",{d:"M21 10.12h-6.78l2.74-2.82c-2.73-2.7-7.15-2.8-9.88-.1-2.73 2.71-2.73 7.08 0 9.79s7.15 2.71 9.88 0C18.32 15.65 19 14.08 19 12.1h2c0 1.98-.88 4.55-2.64 6.29-3.51 3.48-9.21 3.48-12.72 0-3.5-3.47-3.53-9.11-.02-12.58s9.14-3.47 12.65 0L21 3zM12.5 8v4.25l3.5 2.08-.72 1.21L11 13V8z"}),"Update");var _=i(9505),v=i(5695),y=i(2115),P=i(6874),w=i.n(P),S=i(2940),W=i.n(S),C=i(8742);let z=[{id:"stock_code",label:"Code",minWidth:100},{id:"stock_product",label:"Product",minWidth:170},{id:"stock_supplier",label:"Supplier",minWidth:170,align:"left"},{id:"stock_unit",label:"Unit",minWidth:100,align:"left"},{id:"quantity",label:"Quantity",minWidth:100,align:"left"},{id:"buying_price_formatted",label:"Buying Price",minWidth:170,align:"left"},{id:"selling_price_formatted",label:"Selling Price",minWidth:170,align:"left"},{id:"fix_price_formatted",label:"Fixed Price",minWidth:170,align:"left"},{id:"created_on",label:"Created Date",minWidth:170,align:"left"}];function E(){let e=(0,v.useSearchParams)(),[t,i]=(0,y.useState)(""),[P,S]=(0,y.useState)(0),[E,M]=(0,y.useState)(10),[N,L]=(0,y.useState)([]),[Y,D]=(0,y.useState)(0),O=e.get("showSuccess"),U=e.get("stock"),q=e.get("action"),B=e.get("product_id"),F=e.get("product_info"),H=async e=>{"Enter"===e.key&&await I()},I=async()=>{if(B){let e="".concat("http://localhost:5500/api/v1/","stock/getByProduct?product_id=").concat(B,"&search=").concat(t,"&currentPage=").concat(P,"&perPage=").concat(E),i=await fetch(e);if(i.ok){let e=await i.json();L(e.data),D(e.totalLength)}}else{let e="".concat("http://localhost:5500/api/v1/","stock?search=").concat(t,"&currentPage=").concat(P,"&perPage=").concat(E),i=await fetch(e);if(i.ok){let e=await i.json();L(e.data),D(e.totalLength)}}};return(0,y.useEffect)(()=>{I()},[]),(0,y.useEffect)(()=>{I()},[P,E]),(0,a.jsx)("div",{children:(0,a.jsxs)(n.A,{sx:{width:"100%",overflow:"hidden"},children:[(0,a.jsx)(u.A,{severity:"success",hidden:!O,children:"Stock ".concat(U," successfully ").concat("update"===q?"updated":"created",".")}),(0,a.jsxs)(x.default,{sx:{padding:2},children:[(0,a.jsx)("div",{className:"flex justify-end pb-5",children:(0,a.jsx)(w(),{href:"/dashboard/stock/create?product_id="+B,children:(0,a.jsx)(g.default,{variant:"contained",color:"primary",children:"Add Stock"})})}),(0,a.jsxs)(f.default,{container:!0,sx:{paddingTop:"20px"},children:[(0,a.jsx)(f.default,{size:6,children:(0,a.jsx)(p.default,{variant:"body1",fontWeight:"bold",children:"Stocks ".concat(B?" ( ".concat(F," )"):"")})}),(0,a.jsx)(f.default,{size:6,children:(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(j.A,{sx:{fontSize:"15px"},placeholder:"Search...",id:"input-with-icon-adornment",onChange:e=>i(e.target.value),onKeyUp:e=>H(e),endAdornment:(0,a.jsx)(m.A,{position:"end",children:(0,a.jsx)(k.A,{})})})})})]})]}),(0,a.jsx)(s.A,{sx:{height:"70vh"},children:(0,a.jsxs)(l.A,{"aria-label":"sticky table",stickyHeader:!0,children:[(0,a.jsx)(r.A,{children:(0,a.jsxs)(h.A,{children:[(0,a.jsx)(d.A,{children:"No."}),z.map(e=>(0,a.jsx)(d.A,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)),(0,a.jsx)(d.A,{style:{minWidth:"170px"}})]})}),(0,a.jsx)(c.A,{children:N.map((e,t)=>(0,a.jsxs)(h.A,{hover:!0,role:"checkbox",tabIndex:-1,children:[(0,a.jsx)(d.A,{children:P*E+t+1}),z.map(t=>{let i=e[t.id];return(0,a.jsx)(d.A,{align:t.align,children:"created_on"==t.id?W()(i).format(C.z):i},t.id)}),(0,a.jsx)(d.A,{align:"right",children:(0,a.jsxs)("div",{children:[(0,a.jsx)(w(),{href:"/dashboard/stock/history?id="+e.stock_id,children:(0,a.jsx)(b.A,{color:"default",children:(0,a.jsx)(A,{})})}),(0,a.jsx)(b.A,{color:"warning",children:(0,a.jsx)(_.A,{})})]})})]},e.stock_id))})]})}),(0,a.jsx)(o.A,{rowsPerPageOptions:[10,25,100],component:"div",count:Y,rowsPerPage:E,page:P,onPageChange:(e,t)=>{S(t)},onRowsPerPageChange:e=>{M(+e.target.value),S(0)}})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[586,660,448,266,0,474,874,999,993,441,684,358],()=>t(3524)),_N_E=e.O()}]);